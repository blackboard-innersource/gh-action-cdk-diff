name: CDK Diff
description: Diff two cdk.out directories
inputs:
  base:
    description: The cdk.out directory of the baseline or current synth
    required: true
    default: base.cdk.out
  head:
    description: The cdk.out directory of the new synth
    required: true
    default: head.cdk.out
  allow-destruction-of:
    description: A list of resources that are allowed to be destroyed. This is a comma-separated list of resource logical IDs.
    required: false
  enable-summary:
    description: If true, the action will summarize the diff output via a special PR comment. This is useful for large diffs.
    required: false
    default: "true"
  ignore-changes:
    description: A list of resources that are ignored in the diff. This is a comma-separated list of resource logical IDs.
    required: false
    default: "false"
  ignore-asset-only-changes:
    description: If true, the action will ignore changes to assets in the diff. This is useful for large diffs.
    required: false
    default: "false"
outputs:
  has-changes:
    description: Has the value of false if no differences found or true if differences found
  has-security-group-changes:
    description: Has the value of false if no differences found or true if differences found
  has-iam-changes:
    description: Has the value of false if no differences found or true if differences found
runs:
  using: "node20"
  main: "dist/index.js"