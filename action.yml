name: CDK Diff
description: Diff two cdk.out directories
inputs:
  base:
    description: The cdk.out directory of the baseline or current synth
    required: true
    default: base.cdk.out
  head:
    description: The cdk.out directory of the new synth
    required: true
    default: head.cdk.out
  fail-on-destructive-changes:
    description: If true, the action will fail if any destructive changes are found in the diff.
    required: false
    default: "true"
outputs:
  has_diff:
    description: Has the value of 0 if no differences found or 1 if differences found
  comment_file:
    description: A file with markdown that contains details about the diff
  diff_file:
    description: A file that contains the unaltered diff output
runs:
  using: "node20"
  main: "src/index.mjs"